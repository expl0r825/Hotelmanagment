@model Room
@{
    ViewData["Title"] = "Детайли за стая";
}

<div class="row">
    <div class="col-md-6">
        @if (!string.IsNullOrEmpty(Model.ImageUrl))
        {
            <img src="@Url.Content(Model.ImageUrl)" class="img-fluid rounded" alt="@Model.RoomNumber">
        }
        else
        {
            <div class="bg-secondary d-flex align-items-center justify-content-center rounded" style="height: 400px;">
                <span class="text-white">Няма снимка</span>
            </div>
        }
    </div>
    <div class="col-md-6">
        <h2>Стая @Model.RoomNumber</h2>
        <hr />
        <p><strong>Тип:</strong> @Model.RoomType</p>
        <p><strong>Описание:</strong> @Model.Description</p>
        <p><strong>Цена за нощ:</strong> <span class="text-success fs-4">@Model.PricePerNight.ToString("C")</span></p>
        <p><strong>Капацитет:</strong> @Model.Capacity човека</p>
        <p>
            <strong>Статус:</strong>
            @if (Model.IsAvailable)
            {
                <span class="badge bg-success">Налична</span>
            }
            else
            {
                <span class="badge bg-danger">Заета</span>
            }
        </p>
        
        @if (User.Identity!.IsAuthenticated && Model.IsAvailable)
        {
            <div class="mt-4">
                <a asp-controller="Booking" asp-action="Create" asp-route-roomId="@Model.Id" class="btn btn-success btn-lg">Резервирай сега</a>
            </div>
        }
        else if (!User.Identity!.IsAuthenticated)
        {
            <div class="mt-4">
                <p class="text-muted">За да резервирате стая, моля влезте в системата.</p>
                <a asp-controller="Account" asp-action="Login" class="btn btn-primary">Вход</a>
            </div>
        }
    </div>
</div>

<div class="mt-4">
    <a asp-action="Index" class="btn btn-secondary">Назад към каталога</a>
</div>

