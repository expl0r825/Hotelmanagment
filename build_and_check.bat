@echo off
chcp 65001 >nul
echo ========================================
echo Компилиране и проверка на проекта
echo ========================================
echo.

echo Стъпка 1: Възстановяване на пакетите...
call dotnet restore
if %errorlevel% neq 0 (
    echo.
    echo ГРЕШКА: Неуспешно възстановяване на пакетите!
    echo.
    pause
    exit /b 1
)
echo Успешно!
echo.

echo Стъпка 2: Компилиране на проекта...
echo.
call dotnet build --no-restore 2>&1 | more
if %errorlevel% neq 0 (
    echo.
    echo ========================================
    echo ГРЕШКА: Неуспешна компилация!
    echo Проверете грешките по-горе.
    echo ========================================
    echo.
    pause
    exit /b 1
)
echo.
echo ========================================
echo Компилацията е успешна!
echo ========================================
echo.
pause

